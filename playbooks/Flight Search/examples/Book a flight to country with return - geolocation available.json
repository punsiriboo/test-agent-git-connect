{
  "name": "e1b0871b-171a-4315-a201-1b7ab6976d57",
  "actions": [ {
    "userUtterance": {
      "text": "Hi"
    }
  }, {
    "toolUse": {
      "tool": "getGeolocation",
      "action": "getGeolocation",
      "inputActionParameters": {
      
      },
      "outputActionParameters": {
        "functionParameter": {
          "address": {
            "ISO3166-2-lvl4": "CA-QC",
            "city": "Montreal",
            "country": "Canada",
            "country_code": "ca",
            "county": "Urban agglomeration of Montreal",
            "postcode": "H1G 4W4",
            "region": "Montreal (administrative region)",
            "road": "Rue Marcel-Monette",
            "state": "Quebec",
            "suburb": "Montr√©al-Nord"
          },
          "currentDate": "9/30/2024"
        }
      }
    }
  }, {
    "agentUtterance": {
      "text": "Hi there, welcome to the Cymbal Air helpdesk! I can help you find a flight to anywhere in the world. Where would you like to go?"
    }
  }, {
    "userUtterance": {
      "text": "Afghanistan"
    }
  }, {
    "agentUtterance": {
      "text": "Which city in Afghanistan would you like to fly to?"
    }
  }, {
    "userUtterance": {
      "text": "Kabul"
    }
  }, {
    "agentUtterance": {
      "text": "When would you like to fly out?"
    }
  }, {
    "userUtterance": {
      "text": "In a month"
    }
  }, {
    "toolUse": {
      "tool": "getFlights",
      "action": "getFlights",
      "inputActionParameters": {
        "functionParameter": {
          "destination_airport_code": "KBL",
          "destination_city_name": "Kabul",
          "flight_duration_minutes": 960,
          "origin_airport_code": "YUL",
          "origin_city_name": "Montreal",
          "timezone_difference_minutes": 270,
          "travel_date": "2024-10-30"
        }
      },
      "outputActionParameters": {
        "functionParameter": {
          "flights": [ "Flight CY220 leaves YUL at 17:00, arrives to KBL at 13:30 current day + 1 with 0 stops costing 1033 dollars. ", "Flight CY129 leaves YUL at 15:10, arrives to KBL at 11:40 current day + 1 with 0 stops costing 293 dollars. This is the cheapest option!", "Flight CY853 leaves YUL at 18:40, arrives to KBL at 15:10 current day + 1 with 0 stops costing 541 dollars. ", "Flight CY577 leaves YUL at 08:00, arrives to KBL at 04:30 current day + 1 with 0 stops costing 711 dollars. ", "Flight CY667 leaves YUL at 23:05, arrives to KBL at 21:17 current day + 1 with 2 stops costing 1135 dollars. " ]
        }
      }
    }
  }, {
    "agentUtterance": {
      "text": "Which of these flights would you like to book? Your cheapest option is a flight that leaves YUL at 3:10 pm in the afternoon on October 30th, arrives in KBL at 11:40 am in the morning the following day, and costs $293."
    }
  }, {
    "userUtterance": {
      "text": "the last flight looks good"
    }
  }, {
    "agentUtterance": {
      "text": "Excellent, your flight has been booked. Your flight departs from YUL at 11:05 PM and arrives in KBL at 9:17 PM the following day. Your booking number is 4G54WR, you will receive an email with more details shortly. Is there anything else I can help you with?"
    }
  }, {
    "userUtterance": {
      "text": "can i book a return?"
    }
  }, {
    "agentUtterance": {
      "text": "Sure, when would you like to return?"
    }
  }, {
    "userUtterance": {
      "text": "in two months"
    }
  }, {
    "toolUse": {
      "tool": "getFlights",
      "action": "getFlights",
      "inputActionParameters": {
        "functionParameter": {
          "destination_airport_code": "YUL",
          "destination_city_name": "Montreal",
          "flight_duration_minutes": 960,
          "origin_airport_code": "KBL",
          "origin_city_name": "Kabul",
          "timezone_difference_minutes": -270,
          "travel_date": "2024-11-30"
        }
      },
      "outputActionParameters": {
        "functionParameter": {
          "flights": [ "Flight CY775 leaves KBL at 17:17, arrives to YUL at 04:47 current day + 1 with 0 stops costing 297 dollars. ", "Flight CY652 leaves KBL at 09:27, arrives to YUL at 20:57 current day + 0 with 0 stops costing 577 dollars. ", "Flight CY986 leaves KBL at 07:05, arrives to YUL at 18:35 current day + 0 with 0 stops costing 821 dollars. ", "Flight CY441 leaves KBL at 11:17, arrives to YUL at 22:47 current day + 0 with 0 stops costing 201 dollars. This is the cheapest option!", "Flight CY860 leaves KBL at 14:25, arrives to YUL at 07:27 current day + 1 with 2 stops costing 804 dollars. " ]
        }
      }
    }
  }, {
    "agentUtterance": {
      "text": "Which of these flights would you like to book? Your cheapest option is a flight that leaves KBL at 11:17 am in the morning on November 30th, arrives in YUL at 10:47 pm in the evening the same day, and costs $201."
    }
  }, {
    "userUtterance": {
      "text": "Sounds good"
    }
  }, {
    "agentUtterance": {
      "text": "Excellent, your return flight has been booked. Your flight departs from KBL at 11:17 AM and arrives in YUL at 10:47 PM the same day. Your booking number is 4G54WR, you will receive an email with more details shortly. Is there anything else I can help you with?"
    }
  }, {
    "userUtterance": {
      "text": "that's all for now"
    }
  }, {
    "agentUtterance": {
      "text": "Glad I could help!"
    }
  } ],
  "playbookOutput": {
    "executionSummary": "The customer is satisfied"
  },
  "displayName": "Book a flight to country with return - geolocation available",
  "retrievalStrategy": "DEFAULT",
  "conversationState": "OUTPUT_STATE_OK",
  "languageCode": "en"
}
